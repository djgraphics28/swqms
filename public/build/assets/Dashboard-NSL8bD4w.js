import{r as l,j as t,L as h}from"./app-Czm5XCGZ.js";import{A as p}from"./AuthenticatedLayout-DAw2mjyt.js";import"./ApplicationLogo-CtuNsbvm.js";import"./transition-C5A2XBoo.js";function N({device:s,auth:a}){const[o,n]=l.useState(""),[x,r]=l.useState(!1),[d,m]=l.useState("");l.useEffect(()=>{if(s!=null&&s.lat&&(s!=null&&s.lng)){const e=`https://www.google.com/maps/embed/v1/place?q=${s.lat},${s.lng}&key=AIzaSyCGSdz2RsYpR2isrO9CpAUSQUgAf6pZKvg`;m(e)}},[s]);const g=e=>new Date(e).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});l.useEffect(()=>{const e=setInterval(()=>{n(g(new Date))},1e3);return()=>clearInterval(e)},[]),l.useEffect(()=>{window.Echo.private(`dashboard.${a==null?void 0:a.user.id}`).listen("UpdateDashboardRequest",e=>{console.log(e)})},[]);const i=()=>r(!0),c=()=>r(!1);return t.jsxs(p,{header:t.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Smart Water Quality Monitoring Dashboard"}),children:[t.jsx(h,{title:"Dashboard"}),t.jsx("div",{className:"py-12",children:t.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:t.jsxs("div",{className:"bg-white shadow-sm sm:rounded-lg relative",children:[t.jsx("button",{onClick:i,className:"absolute top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600 focus:outline-none",children:"Show in Maps"}),t.jsxs("div",{className:"text-center p-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Current Date & Time"}),t.jsx("p",{className:"text-lg text-gray-500",children:o})]}),t.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md text-center",children:[t.jsx("h4",{className:"text-xl font-semibold text-gray-700",children:"Temperature (°C)"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:[s==null?void 0:s.latest_log.temperature," °C"]})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md text-center",children:[t.jsx("h4",{className:"text-xl font-semibold text-gray-700",children:"Voltage (V)"}),t.jsxs("p",{className:"text-2xl font-bold text-green-500",children:[s==null?void 0:s.latest_log.voltage," V"]})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md text-center",children:[t.jsx("h4",{className:"text-xl font-semibold text-gray-700",children:"pH Level"}),t.jsx("p",{className:"text-2xl font-bold text-purple-500",children:s==null?void 0:s.latest_log.ph_level})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md text-center",children:[t.jsx("h4",{className:"text-xl font-semibold text-gray-700",children:"Turbidity"}),t.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:[s==null?void 0:s.latest_log.turbidity," NTU"]})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md text-center",children:[t.jsx("h4",{className:"text-xl font-semibold text-gray-700",children:"Conductivity"}),t.jsxs("p",{className:"text-2xl font-bold text-red-500",children:[s==null?void 0:s.latest_log.conductivity," µS/cm"]})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Analytics Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:[t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"Temperature Analytics"}),t.jsxs("p",{className:"text-lg text-gray-500",children:["Average Temp: ",s==null?void 0:s.temperature,"°C"]})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"Voltage Analytics"}),t.jsxs("p",{className:"text-lg text-gray-500",children:["Average Voltage: ",s==null?void 0:s.voltage,"V"]})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"pH Level Analytics"}),t.jsxs("p",{className:"text-lg text-gray-500",children:["Average pH: ",s==null?void 0:s.ph_level]})]})]})]})]})})}),x&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-3xl",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-2xl font-semibold",children:"Google Map"}),t.jsx("button",{onClick:c,className:"text-red-500 font-bold text-xl",children:"×"})]}),t.jsx("div",{className:"h-96",children:t.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:d,allowFullScreen:!0})})]})})]})}export{N as default};
